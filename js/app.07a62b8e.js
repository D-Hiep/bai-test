(function(t){function e(e){for(var i,r,a=e[0],d=e[1],c=e[2],u=0,p=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(t[i]=d[i]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],i=!0,a=1;a<o.length;a++){var d=o[a];0!==n[d]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=o[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=i,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(o,i,function(e){return t[e]}.bind(null,i));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/bai-test/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],d=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=d;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"06bb":function(t,e,o){},"0f17":function(t,e,o){"use strict";o("af53")},"3aff":function(t,e,o){},"4ee2":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var i=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},s=[],r={name:"App"},a=r,d=o("2877"),c=Object(d["a"])(a,n,s,!1,null,null,null),l=c.exports,u=(o("4ee2"),o("3aff"),o("8c4f")),p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container todo-app"},[o("h1",[o("span",[t._v("To Do List")]),o("router-link",{staticClass:"btn btn-detail",attrs:{to:{name:"add-todo"}}},[t._v("+")])],1),o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],attrs:{type:"text",placeholder:"search..."},domProps:{value:t.searchKey},on:{keyup:t.searchTask,input:function(e){e.target.composing||(t.searchKey=e.target.value)}}}),o("div",{staticClass:"list-task"},[t._l(t.todoList,(function(t){return o("card-todo",{key:t.id,attrs:{todo:t}})})),o("p",{directives:[{name:"show",rawName:"v-show",value:0==t.todoList.length,expression:"todoList.length == 0"}],staticClass:"empty-task"},[t._v("Hiện bạn chưa có công việc nào !")])],2),o("div",{directives:[{name:"show",rawName:"v-show",value:t.openingBulkAction,expression:"openingBulkAction"}],staticClass:"bulk-action"},[o("p",[t._v("Bulk Action: ")]),o("div",[o("button",{staticClass:"btn btn-detail"},[t._v("Done")]),o("button",{staticClass:"btn btn-remove",on:{click:function(e){return t.removeMultipleTodo(t.checkedTasks)}}},[t._v("Remove")])])])])},h=[],f=o("5530"),v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-card"},[o("label",{attrs:{for:"todo_"+t.todo.id},on:{change:function(e){return t.checkedTask(t.todo.id)}}},[o("div",{staticClass:"todo__info"},[o("input",{attrs:{type:"checkbox",id:"todo_"+t.todo.id},domProps:{value:t.todo.id}}),o("span",{staticClass:"checkbox__custom"}),o("p",[t._v(t._s(t.todo.title))])]),o("div",{staticClass:"todo__action"},[o("button",{staticClass:"btn btn-detail",on:{click:function(e){t.openingForm=!t.openingForm}}},[t._v("Detail")]),o("button",{staticClass:"btn btn-remove",on:{click:function(e){return t.removeTodo(t.todo.id)}}},[t._v("Remove")])])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.openingForm,expression:"openingForm"}],staticClass:"todo__update"},[o("form-todo",{attrs:{type:"update",todoUpdate:t.todo}})],1)])},m=[],b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"todo-form",on:{submit:function(e){return e.preventDefault(),t.handleForm.apply(null,arguments)}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.isSuccess,expression:"isSuccess"}],staticClass:"alert-success"},[o("span",{directives:[{name:"show",rawName:"v-show",value:"add"==t.type,expression:"type == 'add'"}]},[t._v("Thêm thành công")]),o("span",{directives:[{name:"show",rawName:"v-show",value:"update"==t.type,expression:"type == 'update'"}]},[t._v("Sửa thành công")])]),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],class:{error:t.errors.title},attrs:{type:"text",placeholder:"Do home work"},domProps:{value:t.todo.title},on:{input:function(e){e.target.composing||t.$set(t.todo,"title",e.target.value)}}}),o("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.title,expression:"errors.title"}],staticClass:"err-text"},[t._v(t._s(t.errors.title))])]),o("div",{staticClass:"form__description"},[o("label",{staticClass:"title",attrs:{for:"description"}},[t._v("Description")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.todo.description,expression:"todo.description"}],class:{error:t.errors.description},attrs:{id:"description",rows:"8"},domProps:{value:t.todo.description},on:{input:function(e){e.target.composing||t.$set(t.todo,"description",e.target.value)}}}),o("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.description,expression:"errors.description"}],staticClass:"err-text"},[t._v(t._s(t.errors.description))])]),o("div",{staticClass:"form__option"},[o("div",[o("label",{staticClass:"title",attrs:{for:"date"}},[t._v("Due Date")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.date,expression:"todo.date"}],attrs:{type:"date",id:"date",required:""},domProps:{value:t.todo.date},on:{change:function(e){return t.dateValidate()},input:function(e){e.target.composing||t.$set(t.todo,"date",e.target.value)}}})]),o("div",[o("label",{staticClass:"title",attrs:{for:"priority"}},[t._v("Priority")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.todo.priority,expression:"todo.priority"}],attrs:{id:"priority"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.todo,"priority",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Low"}},[t._v("Low")]),o("option",{attrs:{value:"Normal"}},[t._v("Normal")]),o("option",{attrs:{value:"Hight"}},[t._v("Hight")])])])]),"add"==this.type?o("button",{staticClass:"btn btn-add",attrs:{type:"submit"}},[t._v("Add")]):o("button",{staticClass:"btn btn-add",attrs:{type:"submit"}},[t._v("Update")]),"add"==this.type?o("router-link",{staticClass:"btn btn-return-list",attrs:{to:{name:"todo-list"}}},[t._v(" Quay lại danh sách ")]):t._e()],1)},g=[],y=(o("a4d3"),o("e01a"),o("498a"),o("2f62")),w={props:{type:{type:String,default:"add"},todoUpdate:{type:Object,default:function(){return{}}}},data:function(){return{todo:{id:"",title:"",description:"",date:null,priority:"Normal"},errors:{title:null,description:null},isSuccess:!1}},created:function(){"update"==this.type?this.todo=this.todoUpdate:this.todo.date=(new Date).toISOString().substr(0,10)},methods:Object(f["a"])(Object(f["a"])({},Object(y["c"])(["addTodo","updateTodo"])),{},{dateValidate:function(){var t=new Date;return!(new Date(this.todo.date).getTime()<=t.getTime())||(alert("The date must be bigger or equal to today date!"),this.todo.date=(new Date).toISOString().substr(0,10),!1)},handleForm:function(){if(this.errors.title=!1,this.errors.description=!1,""==this.todo.title.trim()&&(this.errors.title="The title field is required."),""==this.todo.description.trim()&&(this.errors.description="The description field is required."),""!=this.todo.title.trim()&&""!=this.todo.description.trim())if("add"==this.type)this.addTodo(this.todo),this.handleSuccess();else{var t={id:this.todo.id,newTodo:this.todo};this.updateTodo(t),this.handleSuccess()}},handleSuccess:function(){var t=this;this.errors.title=!1,this.errors.description=!1,"add"==this.type?this.todo={title:"",description:"",date:(new Date).toISOString().substr(0,10),priority:"Normal"}:this.$root.$emit("reloadTodo"),this.isSuccess=!0,setTimeout((function(){t.isSuccess=!1}),1e3)}})},k=w,T=(o("fb52"),Object(d["a"])(k,b,g,!1,null,"6f9baeda",null)),_=T.exports,O={props:["todo"],data:function(){return{openingForm:!1}},components:{FormTodo:_},methods:Object(f["a"])({},Object(y["c"])(["removeTodo","checkedTask"]))},S=O,x=(o("f72f"),Object(d["a"])(S,v,m,!1,null,"562173b8",null)),C=x.exports,N={data:function(){return{todoList:[],searchKey:"",checkedTasks:[],openingBulkAction:!1}},components:{CardTodo:C},created:function(){this.loadTodoFromLocal(),this.todoList=this.getAllTodo(),this.checkedTasks=this.getCheckedTasks()},mounted:function(){var t=this;this.$root.$on("reloadTodo",(function(){t.todoList=t.getAllTodo()}))},methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(y["b"])(["getAllTodo","searchByName","getCheckedTasks"])),Object(y["c"])(["loadTodoFromLocal","removeMultipleTodo"])),{},{searchTask:function(){this.todoList=this.searchByName()(this.searchKey),console.log(this.searchKey)},showBulkActions:function(){0!=this.checkedTasks.length?this.openingBulkAction=!0:this.openingBulkAction=!1}}),watch:{checkedTasks:function(){this.showBulkActions()}}},j=N,L=(o("bced"),Object(d["a"])(j,p,h,!1,null,"4493e2ff",null)),D=L.exports,I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container add-todo"},[o("h2",[t._v("New Task")]),o("form-todo")],1)},A=[],$={components:{FormTodo:_}},P=$,F=(o("0f17"),Object(d["a"])(P,I,A,!1,null,"334febf4",null)),B=F.exports,J=[{path:"/",component:D,name:"todo-list",meta:{title:"Danh sách cần làm"}},{path:"/add-todo",component:B,name:"add-todo",meta:{title:"Thêm công việc"}}];o("4e82"),o("4de4"),o("d3b7"),o("e9c4"),o("c740"),o("a434");i["a"].use(y["a"]);var M=new y["a"].Store({state:{todo:[],checkedTasks:[]},getters:{getAllTodo:function(t){var e=t.todo.sort((function(t,e){return new Date(t.date)-new Date(e.date)}));return e},searchByName:function(t){return function(e){var o=t.todo.filter((function(t){return-1!=t.title.indexOf(e)})),i=o.sort((function(t,e){return new Date(t.date)-new Date(e.date)}));return i}},getCheckedTasks:function(t){return t.checkedTasks}},mutations:{loadTodoFromLocal:function(t){var e;t.todo=null!==(e=JSON.parse(localStorage.getItem("todoList")))&&void 0!==e?e:[]},addTodo:function(t,e){var o,i=Math.floor(1e4*Math.random());e.id=i;var n=null!==(o=JSON.parse(localStorage.getItem("todoList")))&&void 0!==o?o:[];n.push(e),localStorage.setItem("todoList",JSON.stringify(n)),t.todo.push(e)},updateTodo:function(t,e){var o,i=t.todo.findIndex((function(t){return t.id===e.id})),n=null!==(o=JSON.parse(localStorage.getItem("todoList")))&&void 0!==o?o:[];n.splice(i,1,e.newTodo),localStorage.setItem("todoList",JSON.stringify(n)),t.todo.splice(i,1,e.newTodo)},removeTodo:function(t,e){var o,i=t.todo.findIndex((function(t){return t.id===e})),n=null!==(o=JSON.parse(localStorage.getItem("todoList")))&&void 0!==o?o:[];n.splice(i,1),localStorage.setItem("todoList",JSON.stringify(n)),t.todo.splice(i,1)},removeMultipleTodo:function(t,e){for(var o,i=null!==(o=JSON.parse(localStorage.getItem("todoList")))&&void 0!==o?o:[],n=function(o){var n=t.todo.findIndex((function(t){return t.id===e[o]}));i.splice(n,1),localStorage.setItem("todoList",JSON.stringify(i)),t.todo.splice(n,1),t.checkedTasks.splice(o,1)},s=e.length-1;s>=0;s--)n(s)},checkedTask:function(t,e){var o=t.checkedTasks.findIndex((function(t){return t==e}));-1!=o?t.checkedTasks.splice(o,1):t.checkedTasks.push(e)}}});i["a"].config.productionTip=!1,i["a"].use(u["a"]);var K=new u["a"]({mode:"history",routes:J}),E="Todo list";K.afterEach((function(t){i["a"].nextTick((function(){document.title=t.meta.title||E}))})),new i["a"]({render:function(t){return t(l)},router:K,store:M}).$mount("#app")},af53:function(t,e,o){},bced:function(t,e,o){"use strict";o("06bb")},c1a9:function(t,e,o){},f72f:function(t,e,o){"use strict";o("fb60")},fb52:function(t,e,o){"use strict";o("c1a9")},fb60:function(t,e,o){}});
//# sourceMappingURL=app.07a62b8e.js.map